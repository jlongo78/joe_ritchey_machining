# ============================================
# PRECISION ENGINE AND DYNO, LLC
# Environment Variables Configuration
# ============================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control
# ============================================

# ============================================
# GENERAL APPLICATION SETTINGS
# ============================================
COMPOSE_PROJECT_NAME=precision-engine
APP_ENV=production
APP_NAME=Precision Engine and Dyno
DEBUG=false

# ============================================
# DOCKER PORTS
# ============================================
FRONTEND_PORT=80
FRONTEND_SSL_PORT=443
BACKEND_PORT=8000

# ============================================
# APPLICATION URLS
# ============================================
# Production URLs - update with your domain
FRONTEND_URL=https://precision-engine.example.com
API_URL=https://precision-engine.example.com/api/v1
PORTAL_URL=https://precision-engine.example.com/portal

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://precision-engine.example.com,https://www.precision-engine.example.com

# ============================================
# SECURITY KEYS (REQUIRED - Generate strong secrets!)
# ============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-change-in-production-use-openssl-rand-hex-32
JWT_SECRET=your-jwt-secret-key-change-in-production-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================
# DATABASE
# ============================================
# SQLite (default for simplicity)
DATABASE_URL=sqlite:///./data/precision_engine.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://username:password@localhost:5432/precision_engine

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
# Using SendGrid
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key

# Or using standard SMTP
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# Email sender info
MAIL_FROM_EMAIL=info@precision-engine.com
MAIL_FROM_NAME=Precision Engine and Dyno, LLC

# ============================================
# STRIPE PAYMENT CONFIGURATION
# ============================================
STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# For testing
# STRIPE_PUBLIC_KEY=pk_test_your_stripe_test_public_key
# STRIPE_SECRET_KEY=sk_test_your_stripe_test_secret_key
# STRIPE_WEBHOOK_SECRET=whsec_your_stripe_test_webhook_secret

# ============================================
# TWILIO SMS CONFIGURATION
# ============================================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# GOOGLE ANALYTICS (Optional)
# ============================================
GA_TRACKING_ID=UA-XXXXXXXXX-X

# ============================================
# SENTRY ERROR TRACKING (Optional)
# ============================================
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# OBJECT STORAGE (Optional - MinIO/S3)
# ============================================
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=precision-engine-uploads
MINIO_USE_SSL=false

# AWS S3 (alternative)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET=precision-engine-uploads

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=precision-engine-backups
BACKUP_SCHEDULE=0 2 * * *

# ============================================
# MONITORING (Optional)
# ============================================
GRAFANA_PASSWORD=your-grafana-admin-password

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
FEATURE_CUSTOMER_PORTAL=true
FEATURE_DYNO_BOOKINGS=true
FEATURE_SMS_NOTIFICATIONS=true
FEATURE_EMAIL_NOTIFICATIONS=true

# ============================================
# DEVELOPMENT OVERRIDES
# ============================================
# These are automatically used by docker-compose.override.yml
# Uncomment for local development without override file
#
# APP_ENV=development
# DEBUG=true
# FRONTEND_URL=http://localhost:3000
# API_URL=http://localhost:8000/api/v1
# SECRET_KEY=dev-secret-key-not-for-production
# JWT_SECRET=dev-jwt-secret-not-for-production
# CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:3000
